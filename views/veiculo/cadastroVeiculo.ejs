<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Veículo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <!-- CSS Específico -->
    <link rel="stylesheet" href="/public/forms.css">
</head>
<body>
    <div class="d-flex justify-content-center align-items-center vh-100">
        <div class="container col-11 col-sm-6 col-md-4">
            <h1 class="text-center">Cadastro de Veículo</h1>
            <form id="cadastroVeiculoForm" action="/mecanico/veiculo" method="POST">
                <div class="mb-3">
                    <label for="modelo" class="form-label">Modelo:</label>
                    <input type="text" id="modelo" name="modelo" class="form-control" placeholder="Digite o modelo do veículo" required>
                </div>
                <div class="mb-3">
                    <label for="marca" class="form-label">Marca:</label>
                    <input type="text" id="marca" name="marca" class="form-control" placeholder="Digite a marca do veículo" required>
                </div>
                <div class="mb-3">
                    <label for="ano" class="form-label">Ano:</label>
                    <input type="number" id="ano" name="ano" class="form-control" placeholder="Digite o ano do veículo" required>
                </div>
                <div class="mb-3">
                    <label for="id_cliente">Cliente:</label>
                    <select name="id_cliente" id="id_cliente" required>
                        <% clientes.forEach(cliente => { %>
                            <option value="<%= cliente.id %>"><%= cliente.nome %></option>
                        <% }); %>
                    </select>
                </div>
                <button type="submit" class="botao col align-self-center">Cadastrar</button>
                <br><br>
                <div class="d-flex justify-content-end">
                    <a href="/mecanico/painelMecanico" class="btn btn-danger">Voltar</a>
                </div>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Função para exibir um alerta de confirmação antes de enviar o formulário
        document.getElementById('cadastroVeiculoForm').addEventListener('submit', function (event) {
            event.preventDefault(); // Impede o envio do formulário

            const confirmarCadastro = confirm('Tem certeza que deseja cadastrar este veículo?');
            if (confirmarCadastro) {
                this.submit(); // Se o usuário confirmar, envia o formulário de maneira tradicional
            } else {
                // Redireciona para o painel do mecânico caso o usuário cancele
                redirectHomeMecanico();
            }
        });
    </script>
</body>
</html>